<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>너에게 온 편지 | 성광교회 중등부 전도축제</title>
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="css/stickers.css">
  <link rel="stylesheet" href="css/worship-section.css">
  <link rel="stylesheet" href="css/scroll-to-top.css">
  <link rel="stylesheet" href="css/sections.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap" rel="stylesheet">
  <script charset="UTF-8" class="daum_roughmap_loader_script" src="https://ssl.daumcdn.net/dmaps/map_js_init/roughmapLoader.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* 모바일 우선 스타일 - 반응형 없이 모바일 레이아웃만 사용 */
    .max-w-md { max-width: 28rem; }
    
    /* 섹션 표시/숨김 관련 스타일 */
    .section-container {
      display: none;
      opacity: 0;
      transition: opacity 0.5s ease;
    }
    
    .section-container.active {
      display: block;
      opacity: 1;
    }
    
    /* 네비게이션 스타일 */
    .main-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      background-color: white;
      box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
      z-index: 1000;
      padding: 10px 0;
    }
    
    .nav-items {
      display: flex;
      justify-content: space-around;
      align-items: center;
    }
    
    .nav-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      color: #666;
      text-decoration: none;
      font-size: 12px;
      padding: 5px 0;
    }
    
    .nav-item i {
      font-size: 20px;
      margin-bottom: 5px;
    }
    
    .nav-item.active {
      color: #ff8eb4;
    }
    
    /* 페이지 여백 조정 */
    body {
      padding-bottom: 70px; /* 네비게이션 바 높이만큼 여백 추가 */
    }
    
    /* 섹션 전환 애니메이션 */
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    .fade-in {
      animation: fadeIn 0.5s ease forwards;
    }
  </style>
</head>
<body>
  <!-- 맨 위로 올라가는 플로팅 버튼 -->
  <div class="scroll-to-top" id="scrollToTop">
    <i class="fas fa-arrow-up"></i>
  </div>

  <!-- 홈 섹션 -->
  <section class="section-container active" id="home-section">
    <div class="main-hero" id="home">
      <div class="main-hero-content">
        <!-- 첫화면 이미지 -->
        <img src="images/hero/첫화면.png" alt="첫화면" class="chapter-image" style="max-width: 100%; margin-bottom: 1px;">
        
        <!-- 버튼 -->
        <!-- <div class="main-hero-buttons">
          <a href="#" class="main-hero-btn" onclick="showSection('letter-section'); return false;">편지 읽어보기</a>
          <a href="#" class="main-hero-btn" onclick="showSection('ministry-section'); return false;">잔치 둘러보기</a>
        </div> -->
        
        <!-- 스티커 컨테이너 -->
        <div class="sticker-container">
          <!-- 스티커는 사용자가 직접 추가할 예정 -->
        </div>
      </div>
    </div>
  </section>

  <!-- 편지 섹션 -->
  <section class="section-container" id="letter-section">
    
    <!-- 그리스도의 편지 이미지 슬라이더 -->
    <div class="letter-slider-section">
      <div class="container">
        <div class="slider-container">
          <div class="letter-slider">            
            <!-- 원래 이미지들 - 번호 순서대로 -->
            <div class="letter-card" id="letter-1">
              <div class="letter-content">
                <img src="images/letter/1.png" alt="편지 이미지 1" class="letter-image">
              </div>
            </div>
            <div class="letter-card" id="letter-2">
              <div class="letter-content">
                <img src="images/letter/2.png" alt="편지 이미지 2" class="letter-image">
              </div>
            </div>
            <div class="letter-card" id="letter-3">
              <div class="letter-content">
                <img src="images/letter/3.png" alt="편지 이미지 3" class="letter-image">
              </div>
            </div>
            <div class="letter-card" id="letter-4">
              <div class="letter-content">
                <img src="images/letter/4.png" alt="편지 이미지 4" class="letter-image">
              </div>
            </div>
            <div class="letter-card" id="letter-5">
              <div class="letter-content">
                <img src="images/letter/5.png" alt="편지 이미지 5" class="letter-image">
              </div>
            </div>  
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- 중등부 소개 섹션 -->
  <section class="section-container" id="ministry-section">
    
    <!-- 성광중등부 소개/홍보 섹션 -->
    <div class="ministry-info" style="margin: 0; padding: 0; width: 100%; max-width: 100%;">
      <!-- 우리의 예배 챕터 -->
      <div class="ministry-chapter our-worship">
        <img src="images/worship/우리의예배.png" alt="우리의 예배" class="chapter-image">
      </div>
      
      <!-- 우리의 성장 챕터 -->
      <div class="ministry-chapter our-growth">
        <img src="images/우리의성장.png" alt="우리의 성장" class="chapter-image">
      </div>
      
      <!-- 우리가 말하는 성광 중등부 챕터 -->
      <div class="ministry-chapter testimonials">
        <img src="images/우리가 말하는 성광 중등부.png" alt="우리가 말하는 성광 중등부" class="chapter-image">
      </div>
      
      <!-- 그래서 그 날 뭐해? 챕터 -->
      <div class="ministry-chapter what-we-do">
        <img src="images/그래서그날뭐해.png" alt="그래서 그날 뭐해?" class="chapter-image">
      </div>
    </div>
  </section>

  <!-- 오시는 길 섹션 -->
  <section class="section-container" id="location-section">
    
    <div class="location">
      <div class="container">
        <div class="location-content">
          <div class="map">
            <!-- 카카오맵 지도 -->
            <div id="daumRoughmapContainer1745679233203" class="root_daum_roughmap root_daum_roughmap_landing" style="width:100%; height:400px; margin-bottom:20px;"></div>
          </div>
          <div class="location-info">
            <h3>성광교회</h3>
            <p><i class="fas fa-map-marker-alt"></i> 11945 경기도 구리시 검배로 136번길 32(토평동) 성광교회</p>
            <p><i class="fas fa-clock"></i> 예배시간: 매주 일요일 오전 11시 20분</p>
            <p><i class="fas fa-phone"></i> TEL. 031-563-5210</p>
            <p><i class="fas fa-fax"></i> FAX. 031-553-1398</p>
            <p><i class="fas fa-envelope"></i> EMAIL. helpsk21church@gmail.com</p>
            <div style="margin-top:20px;">
              <a href="https://naver.me/xyTXM2o6" class="btn primary-btn" target="_blank" rel="noopener">네이버 지도</a>
              <a href="https://kko.kakao.com/pnT7w2c-cr" class="btn primary-btn" target="_blank" rel="noopener">카카오맵</a>
              <a href="https://apis.openapi.sk.com/tmap/app/routes?appKey=l7xxd4e3b2b4e2e24b6e8a8e8e8e8e8e8e8e8&name=성광교회&lon=127.142089&lat=37.600068" class="btn primary-btn" target="_blank" rel="noopener">티맵</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- 하단 네비게이션 바 -->
  <nav class="main-nav">
    <div class="nav-items">
      <a href="#" class="nav-item active" onclick="showSection('home-section'); return false;">
        <i class="fas fa-home"></i>
        <span>홈</span>
      </a>
      <a href="#" class="nav-item" onclick="showSection('letter-section'); return false;">
        <i class="fas fa-envelope"></i>
        <span>편지</span>
      </a>
      <a href="#" class="nav-item" onclick="showSection('ministry-section'); return false;">
        <i class="fas fa-church"></i>
        <span>중등부</span>
      </a>
      <a href="#" class="nav-item" onclick="showSection('location-section'); return false;">
        <i class="fas fa-map-marker-alt"></i>
        <span>오는 길</span>
      </a>
    </div>
  </nav>

  <script src="js/script.js" defer></script>
  <script src="js/stickers.js" defer></script>
  <script src="js/touch-swipe.js" defer></script>
  <script src="js/letter-slider.js" defer></script>
  <script src="js/scroll-to-top.js" defer></script>
  
  <!-- 카카오맵 스크립트 -->
  <script charset="UTF-8">
    window.addEventListener('load', function() {
      setTimeout(function() {
        new daum.roughmap.Lander({
          "timestamp" : "1745679233203",
          "key" : "2nu85",
          "mapWidth" : "100%",
          "mapHeight" : "400"
        }).render();
      }, 1000);
    });
  </script>
  
  <!-- 섹션 전환 스크립트 -->
  <script>
    // 섹션 전환 함수
    function showSection(sectionId) {
      // 모든 섹션 숨기기
      const sections = document.querySelectorAll('.section-container');
      sections.forEach(section => {
        section.classList.remove('active');
      });
      
      // 선택한 섹션 표시
      const targetSection = document.getElementById(sectionId);
      targetSection.classList.add('active');
      targetSection.classList.add('fade-in');
      
      // 네비게이션 아이템 활성화 상태 업데이트
      const navItems = document.querySelectorAll('.nav-item');
      navItems.forEach(item => {
        item.classList.remove('active');
      });
      
      // 해당 섹션의 네비게이션 아이템 활성화
      const activeNavItem = document.querySelector(`.nav-item[onclick*="${sectionId}"]`);
      if (activeNavItem) {
        activeNavItem.classList.add('active');
      }
      
      // 페이지 상단으로 스크롤
      window.scrollTo(0, 0);
      
      // 편지 섹션이 활성화되면 슬라이더 초기화
      if (sectionId === 'letter-section') {
        // 슬라이더가 이미 초기화되어 있다면 다시 초기화하지 않음
        if (typeof initLetterSlider === 'function') {
          setTimeout(() => {
            initLetterSlider();
          }, 100);
        }
      }
      
      // 위치 섹션이 활성화되면 지도 다시 로드
      if (sectionId === 'location-section') {
        setTimeout(() => {
          if (typeof daum !== 'undefined' && typeof daum.roughmap !== 'undefined') {
            new daum.roughmap.Lander({
              "timestamp" : "1745679233203",
              "key" : "2nu85",
              "mapWidth" : "100%",
              "mapHeight" : "400"
            }).render();
          }
        }, 100);
      }
    }
    
    // 페이지 로드 시 초기 섹션 설정
    document.addEventListener('DOMContentLoaded', function() {
      // URL 해시에 따라 초기 섹션 결정
      const hash = window.location.hash.substring(1);
      if (hash) {
        const sectionId = hash + '-section';
        if (document.getElementById(sectionId)) {
          showSection(sectionId);
        }
      }
    });
  </script>
</body>
</html>
